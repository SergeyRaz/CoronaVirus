(this.webpackJsonpcorona=this.webpackJsonpcorona||[]).push([[0],{118:function(e,t){},176:function(e,t,o){e.exports=o(297)},181:function(e,t,o){},182:function(e,t,o){},292:function(e,t){},297:function(e,t,o){"use strict";o.r(t);var n=o(6),a=o.n(n),r=o(96),i=o.n(r),l=(o(181),o(2)),s=o(1),c=o(7),u=o(5),d=o(8),f={link_corona_virus:"https://services1.arcgis.com/0MSEUqKaxRlEPj5g/arcgis/rest/services/ncov_cases/FeatureServer/2/query?f=json&where=Confirmed%20%3E%200&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*&orderByFields=Confirmed%20desc&resultOffset=0&resultRecordCount=100&cacheHint=true"},g=(o(182),o(161)),h=o(313),m=o(310),v=o(312),p=o(156),b=o.n(p),y=o(157),C={longitude:114.3055,latitude:30.5928,zoom:3,pitch:30,bearing:0};var k=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={coronaJson:null,totalDeaths:null,totalConfirmed:null,totalCured:null},o}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get(f.link_corona_virus).then((function(t){var o=[],n=!0,a=!1,r=void 0;try{for(var i,l=t.data.features[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value;o.push(s.attributes)}}catch(c){a=!0,r=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}e.setState({coronaJson:o})})).then((function(e){}))}},{key:"render",value:function(){var e=this,t=this.state.coronaJson;console.log(t);var o=[new v.a({id:"great-circle-layer",data:t,pickable:!1,widthMinPixels:1,getStrokeWidth:12,getSourcePosition:[114.3055,30.5928],getTargetPosition:function(e){return[e.Long_,e.Lat]},getSourceColor:[248,67,67],getTargetColor:[248,174,67]})],n=new h.a({id:"scatterplot-layer",data:t,pickable:!0,opacity:.7,stroked:!0,filled:!0,radiusScale:1e3,radiusMinPixels:8,radiusMaxPixels:50,lineWidthMinPixels:1,getPosition:function(e){return[e.Long_,e.Lat]},getRadius:function(e){return Math.sqrt(e.Confirmed)},getFillColor:function(e){return[255,140,0]},getLineColor:function(e){return[0,0,0]},onHover:function(t){return function(e,t,o,n){var r=document.getElementById("tooltip");if(e){var l={datasets:[{data:[e.Confirmed,e.Deaths,e.Recovered],backgroundColor:["rgba(255, 206, 86, 0.5)","rgba(255, 99, 132, 0.5)","rgba(11,123,59, 0.5)"],borderColor:["rgba(255, 255, 255, 1)","rgba(255, 255, 255, 1)","rgba(255, 255, 255, 1)"]}],labels:["Confirmed","Deaths","Recovered"]},s={legend:{position:"right",labels:{boxWidth:20,fontColor:"#fff"}},title:{display:!0,text:"",fontColor:"#fff",fontSize:16,fontStyle:"normal"},elements:{arc:{}},cutoutPercentage:30,responsive:!0};s.title.text=e.en,e.Confirmed&&(l.labels[0]="Confirmed - ".concat(e.Confirmed)),e.Deaths&&(l.labels[1]="Deaths - ".concat(e.Deaths)),e.Recovered&&(l.labels[2]="Cured - ".concat(e.Recovered)),i.a.render(a.a.createElement(y.a,{data:l,options:s}),r),r.style.display="block",r.style.left=t+"px",r.style.top=o+"px"}else r.style.display="none"}(t.object,t.x,t.y,e.state)}});return a.a.createElement("div",null,a.a.createElement("div",{id:"tooltip"}),a.a.createElement(m.a,{initialViewState:C,controller:!0,layers:[o,n]},a.a.createElement(g.a,{mapStyle:"mapbox://styles/mapbox/dark-v9",mapboxApiAccessToken:"pk.eyJ1IjoiYWtvemxvdiIsImEiOiJjazZiMDJheGowZDNiM250aXcyZnZ6YXJyIn0.J5Hj_OvUO9aaD1fk6rzUCg"})))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[176,1,2]]]);
//# sourceMappingURL=main.9ce386ef.chunk.js.map